<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üêç Snake Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .game-container {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            text-align: center;
            max-width: 600px;
            width: 100%;
        }

        .header {
            color: #2E8B57;
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .score-display {
            font-size: 1.5rem;
            font-weight: bold;
            color: #FF6B6B;
            margin: 20px 0;
        }

        .game-board {
            display: inline-block;
            background: #f0f0f0;
            border: 3px solid #2E8B57;
            border-radius: 10px;
            padding: 10px;
            margin: 20px 0;
        }

        .controls {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            max-width: 300px;
            margin: 20px auto;
        }

        .control-btn {
            padding: 15px;
            font-size: 1.2rem;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .up-btn { background: #4CAF50; color: white; }
        .down-btn { background: #4CAF50; color: white; }
        .left-btn { background: #2196F3; color: white; }
        .right-btn { background: #2196F3; color: white; }
        .new-game-btn { background: #FF9800; color: white; grid-column: span 3; }
        .pause-btn { background: #9C27B0; color: white; grid-column: span 3; }

        .settings {
            margin: 20px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .settings label {
            display: block;
            margin: 10px 0 5px 0;
            font-weight: bold;
            color: #333;
        }

        .settings input, .settings select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin-bottom: 10px;
        }

        .game-over {
            background: #ffebee;
            color: #c62828;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            font-weight: bold;
        }

        .high-score {
            background: #e8f5e8;
            color: #2e7d32;
            padding: 10px;
            border-radius: 10px;
            margin: 10px 0;
            font-weight: bold;
        }

        @media (max-width: 600px) {
            .game-container {
                padding: 20px;
            }
            .header {
                font-size: 2rem;
            }
            .controls {
                max-width: 250px;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1 class="header">üêç Snake Game üêç</h1>
        
        <div class="score-display" id="score">Score: 0</div>
        <div class="high-score" id="highScore">High Score: 0</div>
        
        <div class="game-board">
            <canvas id="gameCanvas" width="400" height="400"></canvas>
        </div>
        
        <div class="settings">
            <label for="speed">Game Speed:</label>
            <input type="range" id="speed" min="50" max="300" value="150" step="10">
            <span id="speedValue">150ms</span>
            
            <label for="boardSize">Board Size:</label>
            <select id="boardSize">
                <option value="15">15x15</option>
                <option value="20" selected>20x20</option>
                <option value="25">25x25</option>
                <option value="30">30x30</option>
            </select>
        </div>
        
        <div class="controls">
            <button class="control-btn up-btn" onclick="changeDirection('UP')">‚¨ÜÔ∏è Up</button>
            <button class="control-btn left-btn" onclick="changeDirection('LEFT')">‚¨ÖÔ∏è Left</button>
            <button class="control-btn right-btn" onclick="changeDirection('RIGHT')">‚û°Ô∏è Right</button>
            <button class="control-btn down-btn" onclick="changeDirection('DOWN')">‚¨áÔ∏è Down</button>
            <button class="control-btn new-game-btn" onclick="newGame()">üîÑ New Game</button>
            <button class="control-btn pause-btn" onclick="togglePause()">‚è∏Ô∏è Pause/Resume</button>
        </div>
        
        <div id="gameOver" class="game-over" style="display: none;">
            Game Over! Click "New Game" to play again.
        </div>
    </div>

    <script>
        class SnakeGame {
            constructor(canvas, boardSize = 20) {
                this.canvas = canvas;
                this.ctx = canvas.getContext('2d');
                this.boardSize = boardSize;
                this.cellSize = canvas.width / boardSize;
                this.reset();
            }

            reset() {
                // Initialize snake at center
                const center = Math.floor(this.boardSize / 2);
                this.snake = [
                    {x: center, y: center},
                    {x: center - 1, y: center},
                    {x: center - 2, y: center}
                ];
                this.direction = 'RIGHT';
                this.nextDirection = 'RIGHT';
                this.food = this.generateFood();
                this.score = 0;
                this.gameOver = false;
                this.paused = false;
                this.highScore = localStorage.getItem('snakeHighScore') || 0;
            }

            generateFood() {
                while (true) {
                    // Generate food at coordinates where both x and y are multiples of 2
                    const x = Math.floor(Math.random() * (this.boardSize / 2)) * 2;
                    const y = Math.floor(Math.random() * (this.boardSize / 2)) * 2;
                    
                    // Check if food position is not occupied by snake
                    if (!this.snake.some(segment => segment.x === x && segment.y === y)) {
                        return {x, y};
                    }
                }
            }

            update() {
                if (this.gameOver || this.paused) return;

                // Update direction
                this.direction = this.nextDirection;

                // Get head position
                const head = {...this.snake[0]};

                // Calculate new head position
                switch (this.direction) {
                    case 'UP': head.y--; break;
                    case 'DOWN': head.y++; break;
                    case 'LEFT': head.x--; break;
                    case 'RIGHT': head.x++; break;
                }

                // Check for wall collision
                if (head.x < 0 || head.x >= this.boardSize || head.y < 0 || head.y >= this.boardSize) {
                    this.gameOver = true;
                    return;
                }

                // Check for self collision
                if (this.snake.some(segment => segment.x === head.x && segment.y === head.y)) {
                    this.gameOver = true;
                    return;
                }

                // Add new head
                this.snake.unshift(head);

                // Check if food is eaten
                if (head.x === this.food.x && head.y === this.food.y) {
                    this.score += 10;
                    this.food = this.generateFood();
                    // Update high score
                    if (this.score > this.highScore) {
                        this.highScore = this.score;
                        localStorage.setItem('snakeHighScore', this.highScore);
                    }
                } else {
                    // Remove tail if no food eaten
                    this.snake.pop();
                }
            }

            draw() {
                // Clear canvas
                this.ctx.fillStyle = '#f0f0f0';
                this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);

                // Draw snake
                this.snake.forEach((segment, index) => {
                    this.ctx.fillStyle = index === 0 ? '#2E8B57' : '#4CAF50';
                    this.ctx.fillRect(
                        segment.x * this.cellSize + 1,
                        segment.y * this.cellSize + 1,
                        this.cellSize - 2,
                        this.cellSize - 2
                    );
                });

                // Draw food
                this.ctx.fillStyle = '#FF6B6B';
                this.ctx.fillRect(
                    this.food.x * this.cellSize + 1,
                    this.food.y * this.cellSize + 1,
                    this.cellSize - 2,
                    this.cellSize - 2
                );
            }

            changeDirection(newDirection) {
                // Prevent reverse movement
                const opposites = {
                    'UP': 'DOWN',
                    'DOWN': 'UP',
                    'LEFT': 'RIGHT',
                    'RIGHT': 'LEFT'
                };
                
                if (opposites[newDirection] !== this.direction) {
                    this.nextDirection = newDirection;
                }
            }

            togglePause() {
                this.paused = !this.paused;
            }
        }

        // Game variables
        let game;
        let gameLoop;
        let speed = 150;

        // Initialize game
        function initGame() {
            const canvas = document.getElementById('gameCanvas');
            const boardSize = parseInt(document.getElementById('boardSize').value);
            game = new SnakeGame(canvas, boardSize);
            updateDisplay();
        }

        // Game loop
        function gameStep() {
            game.update();
            game.draw();
            updateDisplay();
            
            if (game.gameOver) {
                clearInterval(gameLoop);
                document.getElementById('gameOver').style.display = 'block';
            }
        }

        // Update display
        function updateDisplay() {
            document.getElementById('score').textContent = `Score: ${game.score}`;
            document.getElementById('highScore').textContent = `High Score: ${game.highScore}`;
        }

        // Control functions
        function changeDirection(direction) {
            if (game) game.changeDirection(direction);
        }

        function newGame() {
            clearInterval(gameLoop);
            document.getElementById('gameOver').style.display = 'none';
            initGame();
            startGameLoop();
        }

        function togglePause() {
            if (game) {
                game.togglePause();
                if (game.paused) {
                    clearInterval(gameLoop);
                } else {
                    startGameLoop();
                }
            }
        }

        function startGameLoop() {
            gameLoop = setInterval(gameStep, speed);
        }

        // Event listeners
        document.getElementById('speed').addEventListener('input', function() {
            speed = parseInt(this.value);
            document.getElementById('speedValue').textContent = speed + 'ms';
            if (game && !game.paused && !game.gameOver) {
                clearInterval(gameLoop);
                startGameLoop();
            }
        });

        document.getElementById('boardSize').addEventListener('change', function() {
            newGame();
        });

        // Keyboard controls
        document.addEventListener('keydown', function(event) {
            switch(event.key) {
                case 'ArrowUp': changeDirection('UP'); break;
                case 'ArrowDown': changeDirection('DOWN'); break;
                case 'ArrowLeft': changeDirection('LEFT'); break;
                case 'ArrowRight': changeDirection('RIGHT'); break;
                case ' ': togglePause(); break;
                case 'r': newGame(); break;
            }
        });

        // Initialize game on load
        window.addEventListener('load', function() {
            initGame();
            startGameLoop();
        });
    </script>
</body>
</html> 